#!/bin/bash
# Pre-push hook to verify build succeeds before pushing to remote

echo "RUNNING PRE-PUSH CHECKS..."

# Run the same CI checks that GitHub Actions will run
if ! deno task ci; then
echo "CI CHECKS FAILED: PUSH REJECTED"
    exit 1
fi

echo "CI CHECKS PASSED: PUSH APPROVED"
exit 0